import{m as h}from"../__chunks__/moveInstrumentation.CJwB2sIU.js";import{i as p}from"../__chunks__/isSidekickLibraryActive.U-fJCMMj.js";import"../__chunks__/index.module.DQI0LCqS.js";function g(){if(!p())return window.location.href;const{location:r}=window.parent,n=new URLSearchParams(r.search);return`${r.origin}${n.get("path")}`}function w(r){if(r.src==="")return;const{src:n,alt:a,eager:t=!1,width:e,height:m,breakpoints:l=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=r,f=new URL(n,g()),d=document.createElement("picture"),{pathname:o}=f,u=o.substring(o.lastIndexOf(".")+1);return l.forEach(c=>{const s=document.createElement("source");c.media&&s.setAttribute("media",c.media),s.setAttribute("type","image/webp"),s.setAttribute("srcset",`${o}?width=${c.width}&format=webply&optimize=medium`),d.appendChild(s)}),l.forEach((c,s)=>{if(s<l.length-1){const i=document.createElement("source");c.media&&i.setAttribute("media",c.media),i.setAttribute("srcset",`${o}?width=${c.width}&format=${u}&optimize=medium`),d.appendChild(i)}else{const i=document.createElement("img");i.setAttribute("loading",t?"eager":"lazy"),i.setAttribute("alt",a),i.setAttribute("width",e.toString()),i.setAttribute("height",m.toString()),d.appendChild(i),i.setAttribute("src",`${o}?width=${c.width}&format=${u}&optimize=medium`)}}),d}function b(r){const n=document.createElement("ul");[...r.children].forEach(a=>{const t=document.createElement("li");for(h(a,t);a.firstElementChild;)t.append(a.firstElementChild);[...t.children].forEach(e=>{e.children.length===1&&e.querySelector("picture")?e.className="cards-card-image":e.className="cards-card-body"}),n.append(t)}),n.querySelectorAll("picture > img").forEach(a=>{var m;const t=a,e=w({src:t.src,alt:t.alt,eager:!1,width:t.width,height:t.height});h(t,e==null?void 0:e.querySelector("img")),e&&((m=t.closest("picture"))==null||m.replaceWith(e))}),r.textContent="",r.append(n)}export{b as default};
//# sourceMappingURL=cards.js.map
